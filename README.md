# Пульт охраны банка #

Этот небольшой скрипт проверяет, какое количество пропусков сотрудников банка хранится в базе данных и сколько именно из них активны.

## Как установить ##

Необходимо скопировать репозиторий и установить в директорию проекта Python версии 3.10 либо ниже. После этого установите зависимости:

```shell
pip install -r requirements.txt
```
### Настройка окружения ###

Перед запуском программы необходимо задать в системе несколько переменных окружения. Для удобства создайте в корне проекта файл `.env` и пропишите там следующие пары `KEY=значение`.  

Каждая переменная влияет на работу приложения следующим образом:

- `DB_HOST`  
  - **Что хранит:** адрес (хост) сервера базы данных, к которой подключается скрипт (например, `localhost` или IP-адрес).  
  - **Как влияет:** по этому адресу Django-ORM будет искать СУБД. Если указано неверно, соединение не установится.

- `DB_PORT`  
  - **Что хранит:** порт, на котором работает сервер базы данных (для PostgreSQL это чаще всего `5432`).  
  - **Как влияет:** по этому порту приложение пытается связаться с базой. Неправильный порт приведёт к ошибке подключения.

- `DB_NAME`  
  - **Что хранит:** имя конкретной базы данных (в СУБД), в которой располагается таблица пропусков сотрудников.  
  - **Как влияет:** Django-ORM будет выполнять запросы к указанной БД. Если база с таким именем отсутствует, приложение не сможет прочитать или записать данные.

- `DB_USER`  
  - **Что хранит:** логин (имя) пользователя, от имени которого происходит подключение к базе данных.  
  - **Как влияет:** права доступа к таблицам и схемам зависят от этого пользователя. Если учётная запись не существует или у неё нет прав, соединение будет отклонено.

- `DB_PASSWORD`  
  - **Что хранит:** пароль пользователя БД, соответствующий `DB_USER`.  
  - **Как влияет:** вместе с `DB_USER` используется для аутентификации при подключении. Если пароль неверный, соединение не установится.

- `SECRET_KEY`  
  - **Что хранит:** секретная строка для Django (используется внутри кода для шифрования, подписей и защиты данных).  
  - **Как влияет:** при отсутствии или некорректном значении Django может не запуститься, а некоторые механизмы безопасности (подпись cookie, генерация токенов и т. д.) не будут работать.

---

### Пример файла `.env`

```text
DB_HOST=localhost
DB_PORT=5432
DB_NAME=passes_db
DB_USER=myuser
DB_PASSWORD=mypassword
SECRET_KEY=ваш_секретный_ключ_сюда


После этого вы можете пользоваться скриптом:

```shell
python main.py
```

## Цель проекта ##

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).